<ion-content [fullscreen]="true" class="onboarding">
  <div class="background-blur blur-a"></div>
  <div class="background-blur blur-b"></div>

  <div class="top-bar">
    <div class="eyebrow">
      <ion-icon name="aperture-outline"></ion-icon>
      <span>{{ 'onboarding.tagline' | translate }}</span>
    </div>
  </div>

  <swiper-container
    #swiperRef
    class="onboarding-swiper"
    (slidechange)="onSlideChanged()">
    <swiper-slide *ngFor="let slide of facade.availableSlides; index as idx">
      <div class="slide-card" [class.is-pro]="slide.pro">
        @if (slide.badgeKey) {
        <div class="pill">
          {{ slide.badgeKey | translate }}
        </div>
        }
        <div class="icon-burst">
          <div class="glow"></div>
          <ion-icon [name]="slide.icon"></ion-icon>
        </div>
        <h1>
          {{ slide.titleKey | translate }}
        </h1>
        <p>
          {{ slide.descriptionKey | translate }}
        </p>
        @if (slide.key === 'action') {
        <div class="mock-preview">
          <div class="mock-row expired">
            <span class="dot"></span>
            <span class="name">{{ 'onboarding.mock.items.milk' | translate }}</span>
            <span class="badge">{{ 'onboarding.mock.status.expired' | translate }}</span>
          </div>
          <div class="mock-row low">
            <span class="dot"></span>
            <span class="name">{{ 'onboarding.mock.items.pasta' | translate }}</span>
            <span class="badge">{{ 'onboarding.mock.status.low' | translate }}</span>
          </div>
          <div class="mock-row ok">
            <span class="dot"></span>
            <span class="name">{{ 'onboarding.mock.items.tomatoes' | translate }}</span>
            <span class="badge">{{ 'onboarding.mock.status.ok' | translate }}</span>
          </div>
        </div>
        }
      </div>
    </swiper-slide>
  </swiper-container>

  <div class="actions">
    <ion-button
      fill="clear"
      (click)="skipOnboarding()">
      {{ 'onboarding.actions.skip' | translate }}
    </ion-button>
    @if (!facade.isLastSlide()) {
      <ion-button
        color="primary"
        shape="round"
        (click)="goToNextSlide()">
      {{ 'onboarding.actions.next' | translate }}
    </ion-button>
    } @else {
      <ion-button
        color="primary"
        shape="round"
        (click)="completeOnboarding()">
      {{ 'onboarding.actions.start' | translate }}
    </ion-button>
    }
  </div>
  @if (facade.isLastSlide()) {
  <p class="skip-hint">{{ 'onboarding.actions.skipHint' | translate }}</p>
  }
</ion-content>
